<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
$(document).ready(function(){
	$("input[name='selector']").change(function(e){
		switch($(this).val()) {
		  case '1':
			    $('#publicationId').prop('disabled',true);
			    $('#publicationId').prop('required',false);
			    
			  	$('#referenceId').prop('disabled',false);
		    	$('#referenceId').prop('required',true);
		    break;
		  case '2':
			  	$('#referenceId').prop('disabled',true);
		    	$('#referenceId').prop('required',false);
		    	
		    	$('#publicationId').prop('disabled',false);
			    $('#publicationId').prop('required',true);
		    break;
		  case '3':
			  	$('#referenceId').prop('disabled',true);
		    	$('#referenceId').prop('required',false);
		    	
		    	$('#publicationId').prop('disabled',true);
			    $('#publicationId').prop('required',false);
			  
		}
	});
});
</script>

<meta charset="ISO-8859-1">
<title>Questionnaire Searcher</title>
<link rel="stylesheet" type="text/css" media="all"
	href="../CSS/mystyle.css" data-th-href="@{/css/mystyle.css}" />
</head>
<body>


<form action="#" data-th-action="@{/inspection}" method="GET">
			 <input type="radio" id="1" name="selector" value="1" required />
			 <label for="1">Id search</label>
			 <input type="radio" id="2" name="selector" value="2" />
 			 <label for="2">Publication date search</label> 
			 <input type="radio" id="3" name="selector" value="3" />
			 <label for="3">Questionnaire Of the day</label> <br><br>
			<fieldset>
				<p>
					Enter the questionnaire id you are searching for: <input id ="referenceId" type="number" name="idQuestionnaire" disabled/>
				</p>
				<p>
					Enter the publication day of the questionnaire you are looking for: <input id = "publicationId" type="date" name="publicationDate"
																						placeholder="yyyy-mm-dd" disabled />
				</p>
				<input type="submit" name="submit">
			</fieldset>
</form>
<table data-th-if="${questionnaire!=null}">
	<tr> 
		<td>Questionnaire ID:</td>
		<td data-th-utext='${questionnaire}'> ;;</td>
	</tr>
	<tr> 
		<td>Questionnaire Name:</td>
		<td data-th-utext='${questionnaireName}'> ;;</td>
	</tr>
	<tr> 
	 	<th>Questionnaire creator</th>
	 	<td data-th-utext = '${creatorName}'> </td>
 	</tr>
	<tr data-th-each = "question : ${questionsString}">
	 	<th>Question </th>
	 	<td data-th-utext = '${question}'> </td>
 	</tr>
 	<tr>
 		<th>Creation Date</th>
 		<td data-th-utext = '${creationDate}'></td>
 	</tr>
 	<tr>
 		<th>Publication Date</th>
 		<td data-th-utext = '${presentationDate}'></td>
 	</tr>
 	<tr>
 		<th>Product</th>
 		<td data-th-utext = '${product}'></td>
 	</tr>
</table>
<div data-th-if="${questionnaire!=null}">
<h2>Users that submitted this questionnaire</h2>
	<table>
 	<tr>
    	<th>User Id</th>
   		<th>Nickname</th>
 	</tr>
	<tr data-th-each="user : ${userSubmitted}"> 
		<td data-th-utext='${user[0]}'>UserId</td>
		<td data-th-utext='${user[1]}'>nickname</td>
		<td><a data-th-href="@{/userSubmission(userId=${user[0]})}">See Submission</a></td>
	</tr>
	</table>	
<h2>Users that canceled submission of this questionnaire</h2>
	<table>
 	<tr>
    	<th>User Id</th>
   		<th>Nickname</th>
 	</tr>
	<tr data-th-each="user : ${userCanceled}"> 
		<td data-th-utext='${user[0]}'>UserId</td>
		<td data-th-utext='${user[1]}'>nickname</td>
	</tr>
	</table>	

</div>




</body>
</html>